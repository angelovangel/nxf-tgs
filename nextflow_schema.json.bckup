{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/./master/nextflow_schema.json",
    "title": "angelovangel/nxf-tgs",
    "description": "",
    "workflow_title": "NXF-TGS workflow",
    "url": "https://github.com/angelovangel/nxf-tgs",
    "type": "object",
    "definitions": {
        "input_options": {
            "title": "Input Options",
            "type": "object",
            "fa_icon": "fas fa-terminal",
            "description": "Parameters for finding and handling input data for analysis.",
            "properties": {
                "fastq": {
                    "type": "string",
                    "title": "FASTQ_PASS folder",
                    "format": "path",
                    "description": "Path to raw fastq_pass folder.",
                    "fa_icon": "fab fa-adobe",
                    "help_text": "Path to raw fastq_pass folder."
                },
                "pipeline": {
                    "type": "string",
                    "title": "Assemly pipeline",
                    "description": "Name of the model that was used to basecall signal data, used to select an appropriate Medaka model.",
                    "help_text": "The basecaller configuration is used to automatically select the appropriate Medaka model. The automatic selection can be overridden with the 'medaka_model' parameter. The model list only shows models that are compatible with this workflow.",
                    "default": "dna_r10.4.1_e8.2_400bps_sup@v4.2.0",
                    "enum": [
                        "dna_r10.4.1_e8.2_400bps_sup@v4.2.0",
                        "dna_r10.4.1_e8.2_400bps_hac@v4.2.0",
                        "dna_r9.4.1_e8.1_hac_prom"
                    ]
                }
            },
            "allOf": [
                {
                    "required": [
                        "fastq"
                    ]
                }
            ]
        },
        "sample_options": {
            "title": "Sample Options",
            "type": "object",
            "description": "Parameters that relate to samples such as sample sheets and sample names.",
            "default": "",
            "properties": {
                "samplesheet": {
                    "type": "string",
                    "format": "file-path",
                    "title": "Sample and approx size sheet",
                    "description": "A CSV file used to map barcodes to sample aliases. The sample sheet can be provided when the input data is a directory containing sub-directories with FASTQ files. An optional column `approx_size` can be added to provide size estimates for each sample. When not provided, the `--approx_size` parameter will be used for all samples.",
                    "help_text": "The sample sheet is a CSV file with, minimally, columns named `barcode` and `alias`. Extra columns are allowed. A `type` column is required for certain workflows and should have the following values; `test_sample`, `positive_control`, `negative_control`, `no_template_control`."
                }
            },
            "allOf": [
                {
                    "required": [
                        "samplesheet"
                    ]
                }
            ]
        },
        "output_options": {
            "title": "Output Options",
            "type": "object",
            "description": "Parameters for saving and naming workflow outputs.",
            "default": "",
            "properties": {
                "out_dir": {
                    "type": "string",
                    "default": "output",
                    "format": "directory-path",
                    "description": "Directory for output of all user-facing files."
                },
                "prefix": {
                    "type": "string",
                    "description": "The prefix attached to each of the output filenames."
                }
            }
        },
        "advanced_options": {
            "title": "Advanced Options",
            "type": "object",
            "description": "Advanced options for configuring processes inside the workflow.",
            "default": "",
            "properties": {
            }
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/input_options"
        },
        {
            "$ref": "#/definitions/sample_options"
        },
        {
            "$ref": "#/definitions/output_options"
        },
        {
            "$ref": "#/definitions/advanced_options"
        }
    ],
    "resources": {
        "recommended": {
            "cpus": 4,
            "memory": "8GB"
        },
        "minimum": {
            "cpus": 4,
            "memory": "8GB"
        },
        "run_time": "6 minutes per sample for 10,000 reads",
        "arm_support": true
    }
}